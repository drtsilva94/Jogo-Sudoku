<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo de Sudoku</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/multi_numbers.css') }}">
</head>
<body>
    <h1>Jogo de Sudoku</h1>
    <form action="{{ url_for('check') }}" method="post">
        <table>
            {% for i in range(sudoku|length) %}
            <tr>
                {% for j in range(sudoku[i]|length) %}
                <td>
                    <input type="text" class="multi-numbers" name="cell_{{ i }}_{{ j }}" value="{{ sudoku[i][j] if sudoku[i][j] != 0 else '' }}" 
                           maxlength="9" 
                           {% if initial_values[i][j] != 0 %}readonly{% endif %}>
                </td>
                {% endfor %}
            </tr>
            {% endfor %}
        </table>
        <button type="submit">Verificar</button>
    </form>
    <a href="{{ url_for('new_game') }}">
        <button type="button">Novo Jogo</button>
    </a>
    {% if message %}
    <p>{{ message }}</p>
    {% endif %}


    <script>
        function formatInput(input) {
            let value = input.value.replace(/[^1-9]/g, ''); // Remove caracteres não numéricos
            value = Array.from(new Set(value)).join(''); // Remove números duplicados

            if (value.length > 1) {
                input.classList.add('multi-numbers');
            } else {
                input.classList.remove('multi-numbers');
            }

            input.value = value;
        }
    </script>
</body>
</html>